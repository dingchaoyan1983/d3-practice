<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <title>D3 Behavior - Drag</title>
  <script src="../d3.v3.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
    }
  </style>
</head>
<body>
<svg id="container" width="400" height="500" fill="red" stroke="1">

</svg>
<script>
  var svg = d3.select('#container');
  var circleXY = svg.append("circle")
    .attr("r", 7)
    .attr("cx", 40)
    .attr("cy", 40)
    .attr('fill', 'red');

  var circleX = svg.append('circle')
    .attr('r', 7)
    .attr('cx', 100)
    .attr('cy', 40)
    .attr('fill', 'blue');

  var circleY = svg.append('circle')
    .attr('r', 7)
    .attr('cx', 160)
    .attr('cy', 40)
    .attr('fill', 'green');

  var dragXY = d3.behavior.drag();
  var dragX = d3.behavior.drag();
  var dragY = d3.behavior.drag();

  dragXY.on('drag', function() {
    d3.select(this).attr('cx', Math.min(d3.event.x, 400));
    d3.select(this).attr('cy', Math.min(d3.event.y, 500));
  });

  dragX.on('drag', function() {
    d3.select(this).attr('cx', Math.min(d3.event.x, 400));
  });

  dragY.on('drag', function() {
    d3.select(this).attr('cy', Math.min(d3.event.y, 500));
  });

  circleXY.call(dragXY);
  circleX.call(dragX);
  circleY.call(dragY);
</script>
</body>
</html>